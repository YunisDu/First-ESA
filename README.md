# 工作日志统计系统

## 项目介绍

工作日志统计系统是一个基于Web的轻量级日志管理工具，旨在帮助用户高效记录、管理和统计工作日志。系统采用纯前端技术实现，数据存储在浏览器本地，无需服务器支持，方便快捷。

### 项目支持

本项目由阿里云ESA提供加速、计算和保护

![阿里云ESA支持](https://img.alicdn.com/imgextra/i3/O1CN01H1UU3i1Cti9lYtFrs_!!6000000000139-2-tps-7534-844.png)

## 功能特性

### 📊 仪表盘
- 实时显示今日、本月、本年和总日志数
- 最近7天日志统计图表，直观展示日志数量变化趋势
- 响应式设计，适配不同屏幕尺寸

### 📝 日志记录
- 支持添加、编辑、删除日志
- 自动清除符号功能，智能处理日志内容
- 支持分号（中英文）分隔多条日志，自动创建多条记录
- 标签管理，方便分类和搜索
- 当日日志列表实时展示，支持上移、下移调整顺序
- 一键复制当日日志功能
- 常用日志功能，快速选择预设日志内容

### 📋 日志列表
- 支持按关键词搜索日志内容和标签
- 支持按日期范围筛选
- 支持按类别筛选
- 分页显示，提升大量日志查看体验
- 按日期分组展示，便于浏览
- 支持批量删除日志
- 支持复制单条日志或当日所有日志
- 支持删除当日所有日志

### 📈 统计分析
- **每日统计**：查看指定日期的日志数量和类别分布
- **月度统计**：查看指定年份各月份的日志数量
- **年度统计**：查看指定年份范围的年度日志数量
- **常用日志统计**：查看最常用的日志内容，支持添加到常用日志库
- 统计结果可视化展示，包含图表和详细数据

### 💾 数据管理
- **导出功能**：支持将日志导出为CSV格式或TXT格式（按日期分组汇总）
- **导入功能**：支持从CSV文件导入日志数据
- **公司设置**：自定义公司名称，用于复制当日日志功能
- **数据清空**：支持清空所有日志数据（操作不可逆）

## 技术栈

- **HTML5**：页面结构搭建
- **CSS3**：样式设计，包含响应式布局
- **JavaScript (ES6+)**：交互逻辑实现
- **Chart.js**：数据可视化图表
- **FileSaver.js**：文件导出功能（用于CSV和TXT导出）
- **localStorage**：本地数据存储

## 快速开始

### 本地运行

1. 克隆或下载项目文件到本地
2. 使用任意HTTP服务器运行项目，例如：
   ```bash
   # 使用Python 3
   python -m http.server 8000
   
   # 使用Node.js的http-server
   npx http-server -p 8000
   
   # 使用PHP
   php -S localhost:8000
   ```
3. 在浏览器中访问 `http://localhost:8000`

### 直接打开

也可以直接在浏览器中打开 `index.html` 文件使用，但某些功能（如文件导入导出）可能受到浏览器安全策略限制。

## 使用说明

### 1. 记录日志

1. 点击左侧导航栏的「日志记录」
2. 填写日志信息：
   - 日期：默认当前日期，可手动修改
   - 时间：默认当前时间，可手动修改
   - 类别：从下拉菜单选择日志类别
   - 内容：填写日志内容，支持分号分隔多条日志
   - 标签：用逗号分隔多个标签
   - 常用日志：可从下拉列表选择预设的常用日志内容
3. 点击「保存日志」按钮保存

### 2. 查看和管理日志

1. 点击左侧导航栏的「日志列表」
2. 使用筛选功能查找特定日志
3. 点击日志条目右侧的按钮进行编辑、删除或复制操作
4. 勾选日志条目左侧的复选框，可进行批量删除

### 3. 查看统计分析

1. 点击左侧导航栏的「统计分析」
2. 选择统计类型（每日、月度、年度、常用日志）
3. 设置统计参数（日期、年份等）
4. 查看统计结果和图表
5. 在常用日志统计中，可将高频日志添加到常用日志库

### 4. 数据管理

1. 点击左侧导航栏的「数据管理」
2. 选择需要的操作：
   - 导出CSV：将日志导出为CSV文件
   - 导出TXT：将日志导出为TXT文件
   - 设置公司名称：自定义复制日志时显示的公司名称
   - 导入CSV：从CSV文件导入日志数据
   - 清空所有数据：删除所有日志（请谨慎操作）

## 功能详解

### 自动清除符号功能

启用自动清除符号功能后，系统会自动处理日志内容：
1. 清除最后一个字符是分号（；;）或句号（。.）的符号
2. 清除开头的数字和符号组合，如 "1."、"2.参加"、"3：会议" 等

### 分号分隔多条日志

在日志内容中使用分号（中英文均可）分隔多条日志，系统会自动创建多条日志记录，每条记录使用相同的日期、时间、类别和标签。

### 日志序列号

系统会为每个日期内的日志自动分配序列号，支持手动调整顺序（上移、下移），确保日志顺序清晰。

### 复制当日日志

点击「复制当日日志」按钮，系统会将当日所有日志按序号格式复制到剪贴板，格式如下：
```
YYYY.MM.DD公司名称
1.日志内容1；
2.日志内容2；
...
n.日志内容n。
```

### 常用日志功能

常用日志功能允许用户保存和管理常用的日志模板，提高日志记录效率：

1. **添加常用日志**：在统计分析页面的「常用日志」标签中，可以手动添加常用日志，或从统计结果中将高频日志添加到常用日志库
2. **选择常用日志**：在日志记录页面，可以从下拉列表中选择常用日志，自动填充日志内容、类别和标签
3. **管理常用日志**：支持编辑、删除常用日志，以及上移、下移调整顺序
4. **常用日志统计**：系统会统计最常用的日志内容，方便用户识别和添加高频日志

## 数据结构

### 日志数据

日志数据采用JSON格式存储在浏览器的localStorage中，每条日志包含以下字段：

| 字段名 | 类型 | 描述 |
|-------|------|------|
| id | string | 唯一标识符 |
| date | string | 日期（YYYY-MM-DD） |
| time | string | 时间（HH:MM） |
| content | string | 日志内容 |
| category | string | 日志类别 |
| tags | array | 标签数组 |
| timestamp | number | 时间戳 |
| sequenceNumber | number | 当日日志序列号 |
| created | number | 创建时间戳 |

### 常用日志数据

常用日志数据采用JSON格式存储在浏览器的localStorage中，每条常用日志包含以下字段：

| 字段名 | 类型 | 描述 |
|-------|------|------|
| id | string | 唯一标识符 |
| content | string | 日志内容 |
| category | string | 日志类别 |
| tags | array | 标签数组 |

## 浏览器兼容性

- Chrome/Edge 80+
- Firefox 75+
- Safari 13+

## 注意事项

1. 数据存储在浏览器本地，清除浏览器缓存或更换浏览器会导致数据丢失
2. 建议定期导出数据备份，避免意外丢失
3. 导入CSV数据时，请确保CSV格式正确，否则可能导致导入失败
4. 清空所有数据操作不可逆，请谨慎操作


## 许可证

MIT License

## 示例数据

项目包含 `示例数据.csv` 文件，可用于测试导入功能。数据包含最近10天的模拟日志，涵盖不同类别和内容。


